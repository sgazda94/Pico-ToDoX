{% extends "base.html" %}

{% block content %}

<article id="block" class="grid">
    <div id="col1">
        <hgroup>
            <h1>Sign in</h1>
            <h2>ToDoX - ToDo App build with Pico.css & HTMX</h2>
        </hgroup>
        <form   hx-post="{% url 'login' %}"
                hx-select="#block"
                hx-target="#block"
                hx-swap="outerHTML"
                >
            {% csrf_token %}
            <input type="text" name="username" placeholder="Username" aria-label="Login" autocomplete="username"
                required>
            <input type="password" name="password" placeholder="Password" aria-label="Password"
                autocomplete="current-password" required>

            <!-- <fieldset>
                    <label for="remember">
                        <input type="checkbox" role="switch" id="remember" name="remember">
                        Remember me
                    </label>
                </fieldset> -->
            <button type="submit" class="contrast">
                Login
            </button>
        </form>
        <a hx-get="{% url 'register' %}"
                hx-trigger="click"
                hx-select="#block"
                hx-target="#block"
                hx-swap="outerHTML"
                hx-push-url="/register">Register</a>
        {% if form.errors %}
        <p>Your username and password didn't match. Please try again.</p>
        {% endif %}
    </div>
    <div id="col2"></div>
</article>

{% endblock %}
<!--
                hx-post="{% url 'index' %}"
                hx-trigger="click"
                hx-target="#grid"
                hx-swap="outerHTML"
                hx-push-url= -->

<!-- {% if next %}
                {% if user.is_authenticated %}
                <p>Your account doesn't have access to this page. To proceed,
                    please login with an account that has access.</p>
                {% else %}
                <p>Please login to see this page.</p>
                {% endif %}
                {% endif %} -->


<!-- <input type="submit" value="login" />
                <input type="hidden" name="next" value="{{ next }}" /> -->


<!-- {# Assumes you setup the password_reset view in your URLconf #}
                <p><a href="{% url 'password_reset' %}">Lost password?</a></p> -->